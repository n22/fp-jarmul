

Started GET "/" for 127.0.0.1 at 2016-01-01 22:38:38 +0700

ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

	bin/rake db:migrate RAILS_ENV=development

):
  activerecord (4.1.1) lib/active_record/migration.rb:389:in `check_pending!'
  activerecord (4.1.1) lib/active_record/migration.rb:377:in `call'
  actionpack (4.1.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.1.1) lib/active_support/callbacks.rb:82:in `run_callbacks'
  actionpack (4.1.1) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.1.1) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.1.1) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.1.1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.1.1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.1.1) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.1.1) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.1.1) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.1.1) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.1.1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:26:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.1.1) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.1.1) lib/rails/engine.rb:514:in `call'
  railties (4.1.1) lib/rails/application.rb:144:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  thin (1.6.2) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.6.2) lib/thin/connection.rb:84:in `catch'
  thin (1.6.2) lib/thin/connection.rb:84:in `pre_process'
  thin (1.6.2) lib/thin/connection.rb:53:in `process'
  thin (1.6.2) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.0.8) lib/eventmachine.rb:193:in `run_machine'
  eventmachine (1.0.8) lib/eventmachine.rb:193:in `run'
  thin (1.6.2) lib/thin/backends/base.rb:73:in `start'
  thin (1.6.2) lib/thin/server.rb:162:in `start'
  rack (1.5.2) lib/rack/handler/thin.rb:16:in `run'
  rack (1.5.2) lib/rack/server.rb:264:in `start'
  railties (4.1.1) lib/rails/commands/server.rb:69:in `start'
  railties (4.1.1) lib/rails/commands/commands_tasks.rb:81:in `block in server'
  railties (4.1.1) lib/rails/commands/commands_tasks.rb:76:in `tap'
  railties (4.1.1) lib/rails/commands/commands_tasks.rb:76:in `server'
  railties (4.1.1) lib/rails/commands/commands_tasks.rb:40:in `run_command!'
  railties (4.1.1) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:8:in `require'
  bin/rails:8:in `<top (required)>'
  spring (1.1.3) lib/spring/client/rails.rb:27:in `load'
  spring (1.1.3) lib/spring/client/rails.rb:27:in `call'
  spring (1.1.3) lib/spring/client/command.rb:7:in `call'
  spring (1.1.3) lib/spring/client.rb:26:in `run'
  spring (1.1.3) bin/spring:48:in `<top (required)>'
  spring (1.1.3) lib/spring/binstub.rb:11:in `load'
  spring (1.1.3) lib/spring/binstub.rb:11:in `<top (required)>'
  bin/spring:16:in `require'
  bin/spring:16:in `<top (required)>'
  bin/rails:3:in `load'
  bin/rails:3:in `<main>'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (93.9ms)
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (16.3ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to DeviseCreateUsers (20140730145303)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar(255) DEFAULT '' NOT NULL, "encrypted_password" varchar(255) DEFAULT '' NOT NULL, "reset_password_token" varchar(255), "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.4ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140730145303"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
Migrating to AddNameToUsers (20140730145345)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "users" ADD "name" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140730145345"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
Migrating to CreateConversations (20140730173347)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "conversations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sender_id" integer, "recipient_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_conversations_on_sender_id" ON "conversations" ("sender_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_conversations_on_sender_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_conversations_on_sender_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_conversations_on_recipient_id" ON "conversations" ("recipient_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140730173347"]]
  [1m[35m (1.4ms)[0m  commit transaction
Migrating to CreateMessages (20140730185251)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "body" text, "conversation_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_messages_on_conversation_id" ON "messages" ("conversation_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_conversation_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_conversation_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140730185251"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_conversations_on_recipient_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_conversations_on_recipient_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_conversations_on_sender_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_conversations_on_sender_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_conversation_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_conversation_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'



Started GET "/" for 127.0.0.1 at 2016-01-01 22:39:19 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.erb (1.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (126.0ms)
  Rendered layouts/_nav.html.erb (1.9ms)
Completed 200 OK in 2175ms (Views: 2154.7ms | ActiveRecord: 0.5ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-01 22:39:21 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-01 22:39:21 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-01 22:39:21 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-01 22:39:21 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-01 22:39:21 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-01 22:39:21 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:21 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:21 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:21 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:21 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:21 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:21 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:21 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:21 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:21 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:21 +0700


Started GET "/users/sign_up" for 127.0.0.1 at 2016-01-01 22:39:29 +0700
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.erb (0.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (7.7ms)
  Rendered layouts/_nav.html.erb (0.5ms)
Completed 200 OK in 41ms (Views: 39.8ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2016-01-01 22:39:43 +0700
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"OTwWtlVhqsSKUWh14qPw9XYaqk9hJ7hhyxu1TXBp930=", "user"=>{"name"=>"hanif", "email"=>"hanifnarendra@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'hanifnarendra@gmail.com' LIMIT 1[0m
Binary data inserted for `string` type on column `encrypted_password`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "name", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", "2016-01-01 15:39:43.573969"], ["email", "hanifnarendra@gmail.com"], ["encrypted_password", "$2a$10$X0qIRQig56Fb98v2PQVeruBBIPP0jWQSvpLU90K7/dHMJh8AJTB9G"], ["name", "hanif"], ["updated_at", "2016-01-01 15:39:43.573969"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `current_sign_in_ip`
Binary data inserted for `string` type on column `last_sign_in_ip`
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "current_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_at" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 1[0m  [["current_sign_in_at", "2016-01-01 15:39:43.581516"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_at", "2016-01-01 15:39:43.581516"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-01-01 15:39:43.582897"]]
  [1m[35m (1.1ms)[0m  commit transaction
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 148ms (ActiveRecord: 3.7ms)


Started GET "/" for 127.0.0.1 at 2016-01-01 22:39:43 +0700
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)[0m
  Rendered users/index.html.erb within layouts/application (4.1ms)
  Rendered layouts/_nav.html.erb (1.3ms)
Completed 200 OK in 29ms (Views: 20.7ms | ActiveRecord: 0.7ms)


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:43 +0700


Started GET "/" for 127.0.0.1 at 2016-01-01 22:39:58 +0700
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.erb (0.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.5ms)
  Rendered layouts/_nav.html.erb (0.4ms)
Completed 200 OK in 25ms (Views: 23.8ms | ActiveRecord: 0.0ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-01 22:39:58 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-01 22:39:58 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-01 22:39:58 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-01 22:39:58 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-01 22:39:58 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-01 22:39:58 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:58 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:58 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:58 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:58 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:58 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:58 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:58 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:58 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:58 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-01 22:39:58 +0700


Started GET "/users/sign_up" for 127.0.0.1 at 2016-01-01 22:40:02 +0700
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.erb (0.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_nav.html.erb (0.5ms)
Completed 200 OK in 27ms (Views: 25.7ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2016-01-01 22:40:18 +0700
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ogfgD6FUdb0QGCfvNiUVk/5QkQ/3kRP8onI3y6J7Yy0=", "user"=>{"name"=>"wakwaw", "email"=>"wakwa@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'wakwa@gmail.com' LIMIT 1[0m
Binary data inserted for `string` type on column `encrypted_password`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "name", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", "2016-01-01 15:40:18.215716"], ["email", "wakwa@gmail.com"], ["encrypted_password", "$2a$10$pBn.FPk6Pl6KrfV66EbDHONT2b1vUzB5eZ43xV.EohTdUrhqCJ2Bu"], ["name", "wakwaw"], ["updated_at", "2016-01-01 15:40:18.215716"]]
  [1m[36mConversation Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "conversations"  WHERE ("conversations"."sender_id" = 1 AND "conversations"."recipient_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "conversations" ("created_at", "recipient_id", "sender_id", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", "2016-01-01 15:40:18.224329"], ["recipient_id", 2], ["sender_id", 1], ["updated_at", "2016-01-01 15:40:18.224329"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `current_sign_in_ip`
Binary data inserted for `string` type on column `last_sign_in_ip`
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "current_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_at" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 2[0m  [["current_sign_in_at", "2016-01-01 15:40:18.228310"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_at", "2016-01-01 15:40:18.228310"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-01-01 15:40:18.228798"]]
  [1m[35m (1.2ms)[0m  commit transaction
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 111ms (ActiveRecord: 4.4ms)


Started GET "/" for 127.0.0.1 at 2016-01-01 22:40:18 +0700
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 2))  ORDER BY created_at DESC
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =2 OR conversations.recipient_id =2)[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =2 OR conversations.recipient_id =2)  ORDER BY created_at DESC
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (60.7ms)
  Rendered layouts/_nav.html.erb (0.6ms)
Completed 200 OK in 80ms (Views: 77.5ms | ActiveRecord: 1.4ms)


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-01 22:40:18 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-01 22:40:19 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"2", "recipient_id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '2' AND conversations.recipient_id ='1') OR (conversations.sender_id = '1' AND conversations.recipient_id ='2'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '2' AND conversations.recipient_id ='1') OR (conversations.sender_id = '1' AND conversations.recipient_id ='2'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.6ms)


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-01 22:40:19 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMessage Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 1]]
  Rendered conversations/show.html.erb (22.8ms)
Completed 200 OK in 45ms (Views: 40.9ms | ActiveRecord: 0.6ms)


Started POST "/conversations/1/messages" for 127.0.0.1 at 2016-01-01 22:40:24 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hai"}, "conversation_id"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "hai"], ["conversation_id", 1], ["created_at", "2016-01-01 15:40:24.736601"], ["updated_at", "2016-01-01 15:40:24.736601"], ["user_id", 2]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered messages/_message.html.erb (2.0ms)
  Rendered messages/create.js.erb (43.8ms)
Completed 500 Internal Server Error in 83ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb__2604947172659882007_70281988525480'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.0ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (64.0ms)


Started POST "/conversations/1/messages" for 127.0.0.1 at 2016-01-01 22:40:28 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hello"}, "conversation_id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "hello"], ["conversation_id", 1], ["created_at", "2016-01-01 15:40:28.623668"], ["updated_at", "2016-01-01 15:40:28.623668"], ["user_id", 2]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered messages/_message.html.erb (1.6ms)
  Rendered messages/create.js.erb (36.9ms)
Completed 500 Internal Server Error in 69ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb__2604947172659882007_70281988525480'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.2ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (54.1ms)


Started GET "/" for 127.0.0.1 at 2016-01-01 22:40:33 +0700
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (4.1ms)
  Rendered layouts/_nav.html.erb (0.6ms)
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.6ms)


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-01 22:40:33 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-01 22:40:34 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.3ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-01 22:40:34 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 1]]
  [1m[35mMessage Load (0.2ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  [["conversation_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered messages/_message.html.erb (2.9ms)
  Rendered conversations/show.html.erb (21.6ms)
Completed 200 OK in 40ms (Views: 36.4ms | ActiveRecord: 0.7ms)


Started POST "/conversations/1/messages" for 127.0.0.1 at 2016-01-01 22:40:39 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"holla"}, "conversation_id"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "holla"], ["conversation_id", 1], ["created_at", "2016-01-01 15:40:39.098953"], ["updated_at", "2016-01-01 15:40:39.098953"], ["user_id", 1]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  Rendered messages/create.js.erb (36.9ms)
Completed 500 Internal Server Error in 69ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb__2604947172659882007_70281988525480'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.8ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (54.5ms)


Started GET "/" for 127.0.0.1 at 2016-01-01 22:40:41 +0700
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (4.2ms)
  Rendered layouts/_nav.html.erb (0.6ms)
Completed 200 OK in 22ms (Views: 20.3ms | ActiveRecord: 0.7ms)


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-01 22:40:41 +0700


Started GET "/" for 127.0.0.1 at 2016-01-01 22:40:48 +0700
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 2))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =2 OR conversations.recipient_id =2)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =2 OR conversations.recipient_id =2)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (4.6ms)
  Rendered layouts/_nav.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 19.8ms | ActiveRecord: 0.7ms)


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-01 22:40:48 +0700


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-01 22:40:50 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMessage Exists (0.1ms)[0m  SELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1  [["conversation_id", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?[0m  [["conversation_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (2.4ms)
  Rendered conversations/show.html.erb (22.9ms)
Completed 200 OK in 42ms (Views: 38.4ms | ActiveRecord: 0.7ms)


Started POST "/conversations/1/messages" for 127.0.0.1 at 2016-01-01 22:41:06 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"jamaika"}, "conversation_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["body", "jamaika"], ["conversation_id", 1], ["created_at", "2016-01-01 15:41:06.883947"], ["updated_at", "2016-01-01 15:41:06.883947"], ["user_id", 2]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered messages/_message.html.erb (1.7ms)
  Rendered messages/create.js.erb (41.5ms)
Completed 500 Internal Server Error in 74ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb__2604947172659882007_70281988525480'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.1ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (54.8ms)


Started GET "/" for 127.0.0.1 at 2016-01-01 22:41:11 +0700
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 2))  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =2 OR conversations.recipient_id =2)[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =2 OR conversations.recipient_id =2)  ORDER BY created_at DESC
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (4.8ms)
  Rendered layouts/_nav.html.erb (0.5ms)
Completed 200 OK in 22ms (Views: 20.2ms | ActiveRecord: 0.7ms)


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-01 22:41:11 +0700


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-01 22:41:12 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMessage Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 1]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  [["conversation_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered messages/_message.html.erb (3.4ms)
  Rendered conversations/show.html.erb (21.3ms)
Completed 200 OK in 41ms (Views: 36.3ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2016-01-01 22:42:51 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (31.4ms)
  Rendered layouts/_nav.html.erb (1.9ms)
Completed 200 OK in 125ms (Views: 110.6ms | ActiveRecord: 1.6ms)


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-01 22:42:52 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-01 22:42:54 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.4ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.1ms)


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-01 22:42:54 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 1]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  [["conversation_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered messages/_message.html.erb (7.0ms)
  Rendered conversations/show.html.erb (50.6ms)
Completed 200 OK in 72ms (Views: 68.1ms | ActiveRecord: 0.9ms)


Started POST "/conversations/1/messages" for 127.0.0.1 at 2016-01-01 22:42:58 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"apakabar"}, "conversation_id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "apakabar"], ["conversation_id", 1], ["created_at", "2016-01-01 15:42:58.208251"], ["updated_at", "2016-01-01 15:42:58.208251"], ["user_id", 1]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  Rendered messages/create.js.erb (45.3ms)
Completed 500 Internal Server Error in 84ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb___4104823280211435984_70301762116820'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (61.2ms)


Started GET "/" for 127.0.0.1 at 2016-01-01 22:43:02 +0700
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_nav.html.erb (0.8ms)
Completed 200 OK in 22ms (Views: 20.3ms | ActiveRecord: 0.6ms)


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-01 22:43:03 +0700


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-01 22:43:05 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 1]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  [["conversation_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (4.9ms)
  Rendered conversations/show.html.erb (23.9ms)
Completed 200 OK in 45ms (Views: 41.1ms | ActiveRecord: 0.8ms)


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-01 22:43:13 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMessage Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 1]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  [["conversation_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (4.8ms)
  Rendered conversations/show.html.erb (23.7ms)
Completed 200 OK in 43ms (Views: 39.2ms | ActiveRecord: 0.9ms)


Started POST "/conversations/1/messages" for 127.0.0.1 at 2016-01-01 22:43:18 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"baik"}, "conversation_id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "baik"], ["conversation_id", 1], ["created_at", "2016-01-01 15:43:18.262363"], ["updated_at", "2016-01-01 15:43:18.262363"], ["user_id", 2]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered messages/_message.html.erb (1.6ms)
  Rendered messages/create.js.erb (39.6ms)
Completed 500 Internal Server Error in 74ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb___4104823280211435984_70301762116820'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (57.9ms)


Started GET "/" for 127.0.0.1 at 2016-01-01 22:43:23 +0700
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 2))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =2 OR conversations.recipient_id =2)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =2 OR conversations.recipient_id =2)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (5.1ms)
  Rendered layouts/_nav.html.erb (0.6ms)
Completed 200 OK in 22ms (Views: 20.6ms | ActiveRecord: 0.7ms)


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-01 22:43:23 +0700


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-01 22:43:24 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMessage Exists (0.1ms)[0m  SELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1  [["conversation_id", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?[0m  [["conversation_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered messages/_message.html.erb (4.8ms)
  Rendered conversations/show.html.erb (25.3ms)
Completed 200 OK in 45ms (Views: 40.7ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-01 22:44:09 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"2", "recipient_id"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 2  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '2' AND conversations.recipient_id ='1') OR (conversations.sender_id = '1' AND conversations.recipient_id ='2'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '2' AND conversations.recipient_id ='1') OR (conversations.sender_id = '1' AND conversations.recipient_id ='2'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 11:05:48 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (90.7ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.5ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.4ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (191.9ms)
  Rendered layouts/_nav.html.erb (2.7ms)
Completed 200 OK in 587ms (Views: 463.6ms | ActiveRecord: 92.9ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 11:05:50 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 11:05:50 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 11:05:50 +0700


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 11:05:50 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 11:05:50 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 11:05:50 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 11:05:50 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 11:05:50 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 11:05:50 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 11:05:50 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 11:05:50 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 11:05:50 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 11:05:50 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 11:05:50 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 11:05:50 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 11:05:50 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 11:05:54 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-02 11:05:54 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 1]]
  [1m[35mMessage Load (0.2ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  [["conversation_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered messages/_message.html.erb (6.9ms)
  Rendered conversations/show.html.erb (179.6ms)
Completed 200 OK in 201ms (Views: 196.9ms | ActiveRecord: 1.0ms)


Started POST "/conversations/1/messages" for 127.0.0.1 at 2016-01-02 11:05:59 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"haaai"}, "conversation_id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (18.8ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "haaai"], ["conversation_id", 1], ["created_at", "2016-01-02 04:05:59.366276"], ["updated_at", "2016-01-02 04:05:59.366276"], ["user_id", 1]]
  [1m[35m (5.7ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  Rendered messages/create.js.erb (76.6ms)
Completed 500 Internal Server Error in 141ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb___3005346640765149958_70296713265940'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.2ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.8ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (85.0ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 11:06:02 +0700
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (4.2ms)
  Rendered layouts/_nav.html.erb (0.6ms)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.6ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 11:06:02 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 11:06:02 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 11:06:02 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 11:06:02 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 11:06:02 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 11:06:02 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 11:06:02 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 11:06:02 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 11:06:02 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 11:06:02 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 11:06:02 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 11:06:02 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 11:06:02 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 11:06:02 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 11:06:02 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 11:06:02 +0700


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-02 11:06:04 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 1]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  [["conversation_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (6.0ms)
  Rendered conversations/show.html.erb (24.7ms)
Completed 200 OK in 44ms (Views: 40.2ms | ActiveRecord: 1.0ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 11:06:19 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT "messages".* FROM "messages"[0m
  [1m[35mMessage Load (0.2ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddGambarToMessages (20160102065230)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (16.8ms)[0m  [1mALTER TABLE "messages" ADD "gambar" varchar(255)[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20160102065230"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_conversations_on_recipient_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_conversations_on_recipient_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_conversations_on_sender_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_conversations_on_sender_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_conversation_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_conversation_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'



Started GET "/" for 127.0.0.1 at 2016-01-02 14:01:11 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (41.5ms)
  Rendered layouts/_nav.html.erb (2.4ms)
Completed 200 OK in 294ms (Views: 267.4ms | ActiveRecord: 1.6ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 14:01:12 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 14:01:12 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 14:01:12 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 14:01:12 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 14:01:12 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 14:01:12 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 14:01:12 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 14:01:12 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 14:01:12 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 14:01:12 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 14:01:12 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 14:01:12 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 14:01:12 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 14:01:12 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 14:01:12 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 14:01:12 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 14:01:14 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-02 14:01:14 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 1]]
  [1m[35mMessage Load (0.2ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  [["conversation_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (9.8ms)
  Rendered conversations/show.html.erb (155.3ms)
Completed 200 OK in 178ms (Views: 174.1ms | ActiveRecord: 1.1ms)


Started POST "/conversations/1/messages" for 127.0.0.1 at 2016-01-02 14:01:21 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"", "gambar"=>"asdasdasdasdasdasd"}, "conversation_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: gambar
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Completed 422 Unprocessable Entity in 98ms

ActiveRecord::RecordInvalid (Validation failed: Body can't be blank):
  app/controllers/messages_controller.rb:8:in `create'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.9ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.2ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb (99.1ms)
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"   ORDER BY "messages"."id" DESC LIMIT 1[0m


Started POST "/conversations/1/messages" for 127.0.0.1 at 2016-01-02 14:02:12 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"asdasd", "gambar"=>""}, "conversation_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: gambar
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (25.4ms)[0m  INSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["body", "asdasd"], ["conversation_id", 1], ["created_at", "2016-01-02 07:02:12.374535"], ["updated_at", "2016-01-02 07:02:12.374535"], ["user_id", 1]]
  [1m[36m (22.5ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  Rendered messages/create.js.erb (45.4ms)
Completed 500 Internal Server Error in 129ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb___316877271719226053_70131271328300'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.8ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (58.4ms)
  [1m[35mMessage Load (0.3ms)[0m  SELECT  "messages".* FROM "messages"   ORDER BY "messages"."id" DESC LIMIT 1


Started POST "/conversations/1/messages" for 127.0.0.1 at 2016-01-02 14:02:32 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"bodo", "gambar"=>""}, "conversation_id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: gambar
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "bodo"], ["conversation_id", 1], ["created_at", "2016-01-02 07:02:32.274401"], ["updated_at", "2016-01-02 07:02:32.274401"], ["user_id", 1]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  Rendered messages/create.js.erb (36.7ms)
Completed 500 Internal Server Error in 80ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb___316877271719226053_70131271328300'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (56.2ms)
  [1m[36mMessage Load (0.3ms)[0m  [1mSELECT  "messages".* FROM "messages"   ORDER BY "messages"."id" DESC LIMIT 1[0m


Started GET "/" for 127.0.0.1 at 2016-01-02 14:02:46 +0700
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (7.4ms)
  Rendered layouts/_nav.html.erb (0.7ms)
Completed 200 OK in 101ms (Views: 99.4ms | ActiveRecord: 0.8ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 14:02:46 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 14:02:47 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 14:02:47 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 14:02:47 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 14:02:47 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 14:02:47 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:47 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:47 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:47 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:47 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:47 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:47 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:47 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:47 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:47 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:47 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 14:02:48 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (1.5ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 2.0ms)


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-02 14:02:48 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Exists (0.1ms)[0m  SELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1  [["conversation_id", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?[0m  [["conversation_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (8.3ms)
  Rendered conversations/show.html.erb (29.1ms)
Completed 200 OK in 48ms (Views: 44.3ms | ActiveRecord: 1.0ms)


Started POST "/conversations/1/messages" for 127.0.0.1 at 2016-01-02 14:02:51 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"asdasdasd"}, "conversation_id"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "asdasdasd"], ["conversation_id", 1], ["created_at", "2016-01-02 07:02:51.753183"], ["updated_at", "2016-01-02 07:02:51.753183"], ["user_id", 1]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  Rendered messages/create.js.erb (38.0ms)
Completed 500 Internal Server Error in 71ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb___316877271719226053_70131271328300'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (65.7ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 14:02:54 +0700
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (4.3ms)
  Rendered layouts/_nav.html.erb (0.6ms)
Completed 200 OK in 22ms (Views: 20.4ms | ActiveRecord: 0.6ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 14:02:55 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 14:02:55 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 14:02:55 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 14:02:55 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 14:02:55 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 14:02:55 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:55 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:55 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:55 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:55 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:55 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:55 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:55 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:55 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:55 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 14:02:55 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 14:02:56 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-02 14:02:56 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Exists (0.1ms)[0m  SELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1  [["conversation_id", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?[0m  [["conversation_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (7.8ms)
  Rendered conversations/show.html.erb (25.7ms)
Completed 200 OK in 44ms (Views: 40.2ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 14:07:18 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (6.7ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (5.8ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.4ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (76.8ms)
  Rendered layouts/_nav.html.erb (19.1ms)
Completed 200 OK in 331ms (Views: 300.7ms | ActiveRecord: 14.2ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 14:07:19 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 14:07:19 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 14:07:19 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 14:07:19 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 14:07:19 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 14:07:19 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:19 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:19 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:19 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:19 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:19 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:19 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:19 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:19 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:19 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:19 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 14:07:21 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-02 14:07:21 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 1]]
  [1m[35mMessage Load (0.2ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  [["conversation_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (10.2ms)
  Rendered conversations/show.html.erb (94.5ms)
Completed 200 OK in 126ms (Views: 122.3ms | ActiveRecord: 1.1ms)


Started POST "/conversations/1/messages" for 127.0.0.1 at 2016-01-02 14:07:23 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hai"}, "conversation_id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (11.3ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "hai"], ["conversation_id", 1], ["created_at", "2016-01-02 07:07:23.883638"], ["updated_at", "2016-01-02 07:07:23.883638"], ["user_id", 1]]
  [1m[35m (5.7ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  Rendered messages/create.js.erb (28.9ms)
Completed 200 OK in 81ms (Views: 58.0ms | ActiveRecord: 17.6ms)


Started POST "/conversations/1/messages" for 127.0.0.1 at 2016-01-02 14:07:27 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hola"}, "conversation_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["body", "hola"], ["conversation_id", 1], ["created_at", "2016-01-02 07:07:27.959007"], ["updated_at", "2016-01-02 07:07:27.959007"], ["user_id", 1]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  Rendered messages/create.js.erb (24.3ms)
Completed 200 OK in 58ms (Views: 52.0ms | ActiveRecord: 2.1ms)


Started POST "/conversations/1/messages" for 127.0.0.1 at 2016-01-02 14:07:32 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"adios"}, "conversation_id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "adios"], ["conversation_id", 1], ["created_at", "2016-01-02 07:07:32.763484"], ["updated_at", "2016-01-02 07:07:32.763484"], ["user_id", 1]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  Rendered messages/create.js.erb (23.8ms)
Completed 200 OK in 57ms (Views: 50.6ms | ActiveRecord: 2.7ms)


Started POST "/conversations/1/messages" for 127.0.0.1 at 2016-01-02 14:07:38 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"amigos"}, "conversation_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["body", "amigos"], ["conversation_id", 1], ["created_at", "2016-01-02 07:07:38.602225"], ["updated_at", "2016-01-02 07:07:38.602225"], ["user_id", 1]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  Rendered messages/create.js.erb (27.9ms)
Completed 200 OK in 61ms (Views: 54.7ms | ActiveRecord: 2.6ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 14:07:47 +0700
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.erb (2.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (133.5ms)
  Rendered layouts/_nav.html.erb (0.5ms)
Completed 200 OK in 186ms (Views: 183.5ms | ActiveRecord: 0.0ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 14:07:47 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 14:07:47 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 14:07:47 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 14:07:47 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 14:07:47 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 14:07:47 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:47 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:47 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:47 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:47 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:47 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:47 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:47 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:47 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:47 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 14:07:47 +0700


Started GET "/users/sign_up" for 127.0.0.1 at 2016-01-02 14:07:50 +0700
Processing by Devise::RegistrationsController#new as HTML
  Rendered devise/shared/_links.erb (0.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (6.9ms)
  Rendered layouts/_nav.html.erb (0.5ms)
Completed 200 OK in 40ms (Views: 38.9ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2016-01-02 14:08:06 +0700
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"rn9a9nuJNCAgm8vbA37DGRFD7hlIHpsnZC113gv8GSI=", "user"=>{"name"=>"coba", "email"=>"coba@coba.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (7.3ms)[0m  [1mSELECT  1 AS one FROM "users"  WHERE "users"."email" = 'coba@coba.com' LIMIT 1[0m
Binary data inserted for `string` type on column `encrypted_password`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "name", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", "2016-01-02 07:08:07.084751"], ["email", "coba@coba.com"], ["encrypted_password", "$2a$10$lGBXHBQ8WE5rRMCC18W8ZezkrbgQSaBT7s2kHir4pxVuLYo/8pU26"], ["name", "coba"], ["updated_at", "2016-01-02 07:08:07.084751"]]
  [1m[36mConversation Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "conversations"  WHERE ("conversations"."sender_id" = 1 AND "conversations"."recipient_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "conversations" ("created_at", "recipient_id", "sender_id", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", "2016-01-02 07:08:07.089757"], ["recipient_id", 3], ["sender_id", 1], ["updated_at", "2016-01-02 07:08:07.089757"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Binary data inserted for `string` type on column `current_sign_in_ip`
Binary data inserted for `string` type on column `last_sign_in_ip`
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "current_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_at" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = 3[0m  [["current_sign_in_at", "2016-01-02 07:08:07.099272"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_at", "2016-01-02 07:08:07.099272"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2016-01-02 07:08:07.100428"]]
  [1m[35m (1.3ms)[0m  commit transaction
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 162ms (ActiveRecord: 17.4ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 14:08:07 +0700
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 3  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 3))  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =3 OR conversations.recipient_id =3)[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =3 OR conversations.recipient_id =3)  ORDER BY created_at DESC
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  Rendered users/index.html.erb within layouts/application (5.6ms)
  Rendered layouts/_nav.html.erb (0.5ms)
Completed 200 OK in 38ms (Views: 36.3ms | ActiveRecord: 0.8ms)


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:07 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:07 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:07 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:07 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:07 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:07 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:07 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:07 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:07 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 14:08:10 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"3", "recipient_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 3  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '3' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='3'))[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mConversation Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "conversations"  WHERE ("conversations"."sender_id" = 3 AND "conversations"."recipient_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "conversations" ("created_at", "recipient_id", "sender_id", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", "2016-01-02 07:08:10.013197"], ["recipient_id", 2], ["sender_id", 3], ["updated_at", "2016-01-02 07:08:10.013197"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 2.7ms)


Started GET "/conversations/3" for 127.0.0.1 at 2016-01-02 14:08:10 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 3  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 3]]
  Rendered conversations/show.html.erb (3.6ms)
Completed 200 OK in 35ms (Views: 31.4ms | ActiveRecord: 0.5ms)


Started POST "/conversations/3/messages" for 127.0.0.1 at 2016-01-02 14:08:15 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hai"}, "conversation_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 3  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "hai"], ["conversation_id", 3], ["created_at", "2016-01-02 07:08:15.688770"], ["updated_at", "2016-01-02 07:08:15.688770"], ["user_id", 3]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  Rendered messages/_message.html.erb (1.0ms)
  Rendered messages/create.js.erb (22.4ms)
Completed 200 OK in 80ms (Views: 71.2ms | ActiveRecord: 3.5ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 14:08:19 +0700
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (6.3ms)
  Rendered layouts/_nav.html.erb (0.6ms)
Completed 200 OK in 24ms (Views: 22.1ms | ActiveRecord: 0.8ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 14:08:20 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 14:08:20 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 14:08:20 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 14:08:20 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 14:08:20 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 14:08:20 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:20 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:20 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:20 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:20 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:20 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:20 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:20 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:20 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:20 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:20 +0700


Started GET "/conversations/2" for 127.0.0.1 at 2016-01-02 14:08:22 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 2]]
  Rendered conversations/show.html.erb (2.7ms)
Completed 200 OK in 22ms (Views: 18.7ms | ActiveRecord: 0.5ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 14:08:24 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hi"}, "conversation_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "hi"], ["conversation_id", 2], ["created_at", "2016-01-02 07:08:24.979917"], ["updated_at", "2016-01-02 07:08:24.979917"], ["user_id", 1]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  Rendered messages/create.js.erb (24.4ms)
Completed 200 OK in 58ms (Views: 51.6ms | ActiveRecord: 2.8ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 14:08:27 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hi"}, "conversation_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["body", "hi"], ["conversation_id", 2], ["created_at", "2016-01-02 07:08:27.361677"], ["updated_at", "2016-01-02 07:08:27.361677"], ["user_id", 1]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  Rendered messages/create.js.erb (23.5ms)
Completed 200 OK in 57ms (Views: 49.9ms | ActiveRecord: 2.7ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 14:08:28 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hi"}, "conversation_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "hi"], ["conversation_id", 2], ["created_at", "2016-01-02 07:08:28.315627"], ["updated_at", "2016-01-02 07:08:28.315627"], ["user_id", 1]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  Rendered messages/create.js.erb (23.3ms)
Completed 200 OK in 56ms (Views: 49.2ms | ActiveRecord: 2.8ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 14:08:33 +0700
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 3  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 3))  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =3 OR conversations.recipient_id =3)[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =3 OR conversations.recipient_id =3)  ORDER BY created_at DESC
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  Rendered users/index.html.erb within layouts/application (7.5ms)
  Rendered layouts/_nav.html.erb (0.5ms)
Completed 200 OK in 24ms (Views: 23.0ms | ActiveRecord: 0.9ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:33 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:33 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:33 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:33 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:33 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:33 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:33 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:33 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:33 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 14:08:33 +0700


Started GET "/conversations/2" for 127.0.0.1 at 2016-01-02 14:08:37 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 3  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMessage Exists (0.1ms)[0m  SELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1  [["conversation_id", 2]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?[0m  [["conversation_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (3.0ms)
  Rendered conversations/show.html.erb (20.7ms)
Completed 200 OK in 40ms (Views: 35.7ms | ActiveRecord: 0.7ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 14:08:46 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"apakabar"}, "conversation_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 3  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["body", "apakabar"], ["conversation_id", 2], ["created_at", "2016-01-02 07:08:46.208903"], ["updated_at", "2016-01-02 07:08:46.208903"], ["user_id", 3]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  Rendered messages/_message.html.erb (1.8ms)
  Rendered messages/create.js.erb (25.1ms)
Completed 200 OK in 59ms (Views: 50.8ms | ActiveRecord: 3.7ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 14:08:51 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"baik"}, "conversation_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["body", "baik"], ["conversation_id", 2], ["created_at", "2016-01-02 07:08:51.221617"], ["updated_at", "2016-01-02 07:08:51.221617"], ["user_id", 1]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  Rendered messages/create.js.erb (23.8ms)
Completed 200 OK in 57ms (Views: 48.8ms | ActiveRecord: 3.3ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 14:08:55 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"luarbiasa"}, "conversation_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 3  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "luarbiasa"], ["conversation_id", 2], ["created_at", "2016-01-02 07:08:55.281060"], ["updated_at", "2016-01-02 07:08:55.281060"], ["user_id", 3]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered messages/_message.html.erb (2.0ms)
  Rendered messages/create.js.erb (24.3ms)
Completed 200 OK in 58ms (Views: 50.8ms | ActiveRecord: 2.9ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 14:08:59 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hola"}, "conversation_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "hola"], ["conversation_id", 2], ["created_at", "2016-01-02 07:08:59.409493"], ["updated_at", "2016-01-02 07:08:59.409493"], ["user_id", 1]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  Rendered messages/create.js.erb (22.9ms)
Completed 200 OK in 58ms (Views: 51.7ms | ActiveRecord: 2.7ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 14:09:01 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"amigos"}, "conversation_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["body", "amigos"], ["conversation_id", 2], ["created_at", "2016-01-02 07:09:01.165063"], ["updated_at", "2016-01-02 07:09:01.165063"], ["user_id", 1]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  Rendered messages/create.js.erb (23.3ms)
Completed 200 OK in 56ms (Views: 49.0ms | ActiveRecord: 2.5ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 14:09:12 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"lolisimo"}, "conversation_id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 3  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "lolisimo"], ["conversation_id", 2], ["created_at", "2016-01-02 07:09:12.920770"], ["updated_at", "2016-01-02 07:09:12.920770"], ["user_id", 3]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered messages/_message.html.erb (1.7ms)
  Rendered messages/create.js.erb (23.0ms)
Completed 200 OK in 56ms (Views: 48.5ms | ActiveRecord: 2.9ms)


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-02 14:09:27 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 1]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  [["conversation_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (12.3ms)
  Rendered conversations/show.html.erb (30.3ms)
Completed 200 OK in 48ms (Views: 44.5ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 14:47:14 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (38.6ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (6.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  Rendered users/index.html.erb within layouts/application (102.3ms)
Completed 500 Internal Server Error in 293ms

ActionView::Template::Error (uninitialized constant Conversation::Message):
    44:                   <div class="media-body">
    45:                     <%= link_to "", conversation_path(conversation), class: "conversation", "data-cid" => conversation.id %>
    46:                         <h4 class="media-heading"><%= conversation_interlocutor(conversation).name %></h4>
    47:                         <p><%= conversation.messages.last.nil? ? "No messages" : truncate(conversation.messages.last.body, length: 45) %></p>
    48:                   </div>
    49:                 </li>
    50: 
  app/views/users/index.html.erb:47:in `block in _app_views_users_index_html_erb__662916565069942068_70260991359020'
  app/views/users/index.html.erb:41:in `_app_views_users_index_html_erb__662916565069942068_70260991359020'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (62.7ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 14:47:56 +0700
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered users/index.html.erb within layouts/application (15.8ms)
Completed 500 Internal Server Error in 30ms

ActionView::Template::Error (uninitialized constant Conversation::Message):
    44:                   <div class="media-body">
    45:                     <%= link_to "", conversation_path(conversation), class: "conversation", "data-cid" => conversation.id %>
    46:                         <h4 class="media-heading"><%= conversation_interlocutor(conversation).name %></h4>
    47:                         <p><%= conversation.messages.last.nil? ? "No messages" : truncate(conversation.messages.last.body, length: 45) %></p>
    48:                   </div>
    49:                 </li>
    50: 
  app/views/users/index.html.erb:47:in `block in _app_views_users_index_html_erb__662916565069942068_70260991359020'
  app/views/users/index.html.erb:41:in `_app_views_users_index_html_erb__662916565069942068_70260991359020'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (57.3ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 14:47:58 +0700
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  Rendered users/index.html.erb within layouts/application (9.4ms)
Completed 500 Internal Server Error in 16ms

ActionView::Template::Error (uninitialized constant Conversation::Message):
    44:                   <div class="media-body">
    45:                     <%= link_to "", conversation_path(conversation), class: "conversation", "data-cid" => conversation.id %>
    46:                         <h4 class="media-heading"><%= conversation_interlocutor(conversation).name %></h4>
    47:                         <p><%= conversation.messages.last.nil? ? "No messages" : truncate(conversation.messages.last.body, length: 45) %></p>
    48:                   </div>
    49:                 </li>
    50: 
  app/views/users/index.html.erb:47:in `block in _app_views_users_index_html_erb__662916565069942068_70260991359020'
  app/views/users/index.html.erb:41:in `_app_views_users_index_html_erb__662916565069942068_70260991359020'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (59.8ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 14:48:07 +0700
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mMessage Load (19.7ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (44.9ms)
  Rendered layouts/_nav.html.erb (2.9ms)
Completed 200 OK in 254ms (Views: 225.4ms | ActiveRecord: 21.4ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 14:48:08 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 14:48:08 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 14:48:08 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 14:48:08 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 14:48:08 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 14:48:08 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:08 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:08 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:08 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:08 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:08 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:08 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:08 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:08 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:08 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:08 +0700


Started GET "/" for 127.0.0.1 at 2016-01-02 14:48:18 +0700
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered users/index.html.erb within layouts/application (16.7ms)
Completed 500 Internal Server Error in 30ms

ActionView::Template::Error (uninitialized constant Conversation::Message):
    44:                   <div class="media-body">
    45:                     <%= link_to "", conversation_path(conversation), class: "conversation", "data-cid" => conversation.id %>
    46:                         <h4 class="media-heading"><%= conversation_interlocutor(conversation).name %></h4>
    47:                         <p><%= conversation.messages.last.nil? ? "No messages" : truncate(conversation.messages.last.body, length: 45) %></p>
    48:                   </div>
    49:                 </li>
    50: 
  app/views/users/index.html.erb:47:in `block in _app_views_users_index_html_erb__662916565069942068_70260991359020'
  app/views/users/index.html.erb:41:in `_app_views_users_index_html_erb__662916565069942068_70260991359020'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (59.7ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 14:48:41 +0700
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  Rendered users/index.html.erb within layouts/application (12.9ms)
Completed 500 Internal Server Error in 26ms

ActionView::Template::Error (undefined method `attr_encrypted' for #<Class:0x007fcdd36d0260>):
    44:                   <div class="media-body">
    45:                     <%= link_to "", conversation_path(conversation), class: "conversation", "data-cid" => conversation.id %>
    46:                         <h4 class="media-heading"><%= conversation_interlocutor(conversation).name %></h4>
    47:                         <p><%= conversation.messages.last.nil? ? "No messages" : truncate(conversation.messages.last.body, length: 45) %></p>
    48:                   </div>
    49:                 </li>
    50: 
  app/models/message.rb:5:in `<class:Message>'
  app/models/message.rb:1:in `<top (required)>'
  app/views/users/index.html.erb:47:in `block in _app_views_users_index_html_erb__662916565069942068_70260991359020'
  app/views/users/index.html.erb:41:in `_app_views_users_index_html_erb__662916565069942068_70260991359020'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (62.1ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 14:48:48 +0700
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mMessage Load (0.2ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (21.4ms)
  Rendered layouts/_nav.html.erb (1.3ms)
Completed 200 OK in 47ms (Views: 36.9ms | ActiveRecord: 2.5ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 14:48:48 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 14:48:49 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 14:48:49 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 14:48:49 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 14:48:49 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 14:48:49 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:49 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:49 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:49 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:49 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:49 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:49 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:49 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:49 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:49 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 14:48:49 +0700


Started GET "/" for 127.0.0.1 at 2016-01-02 14:49:56 +0700
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered users/index.html.erb within layouts/application (16.5ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (uninitialized constant Conversation::Message):
    44:                   <div class="media-body">
    45:                     <%= link_to "", conversation_path(conversation), class: "conversation", "data-cid" => conversation.id %>
    46:                         <h4 class="media-heading"><%= conversation_interlocutor(conversation).name %></h4>
    47:                         <p><%= conversation.messages.last.nil? ? "No messages" : truncate(conversation.messages.last.body, length: 45) %></p>
    48:                   </div>
    49:                 </li>
    50: 
  app/views/users/index.html.erb:47:in `block in _app_views_users_index_html_erb__662916565069942068_70260991359020'
  app/views/users/index.html.erb:41:in `_app_views_users_index_html_erb__662916565069942068_70260991359020'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (62.8ms)
  [1m[36mUser Load (2.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[36mMessage Load (2.3ms)[0m  [1mSELECT "messages".* FROM "messages"[0m
  [1m[36mMessage Load (2.0ms)[0m  [1mSELECT "messages".* FROM "messages"[0m
  [1m[35mMessage Load (0.5ms)[0m  SELECT "messages".* FROM "messages"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (24.3ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = ?  [["id", 1]]
  [1m[36m (5.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 2]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = ?  [["id", 3]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 4]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = ?  [["id", 5]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 6]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = ?  [["id", 7]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 8]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = ?  [["id", 9]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 10]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = ?  [["id", 11]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 12]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = ?  [["id", 13]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 14]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = ?  [["id", 15]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 16]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = ?  [["id", 17]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 18]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = ?  [["id", 19]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 20]]
  [1m[35m (4.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = ?  [["id", 21]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 22]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = ?  [["id", 23]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 24]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mMessage Load (0.3ms)[0m  [1mSELECT "messages".* FROM "messages"[0m
  [1m[36mConversation Load (8.8ms)[0m  [1mSELECT "conversations".* FROM "conversations"[0m


Started GET "/" for 127.0.0.1 at 2016-01-02 15:06:02 +0700
  [1m[36mActiveRecord::SchemaMigration Load (11.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (31.1ms)
  Rendered layouts/_nav.html.erb (2.0ms)
Completed 200 OK in 277ms (Views: 260.9ms | ActiveRecord: 1.8ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 15:06:03 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 15:06:03 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 15:06:03 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 15:06:03 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 15:06:03 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 15:06:03 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 15:06:03 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 15:06:03 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 15:06:03 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 15:06:03 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 15:06:03 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 15:06:03 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 15:06:03 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 15:06:03 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 15:06:03 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 15:06:03 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:06:07 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/conversations/2" for 127.0.0.1 at 2016-01-02 15:06:07 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mMessage Exists (0.2ms)[0m  SELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1  [["conversation_id", 2]]
  Rendered conversations/show.html.erb (90.4ms)
Completed 500 Internal Server Error in 122ms

SystemStackError (stack level too deep):
  app/views/conversations/show.html.erb:20:in `block in _app_views_conversations_show_html_erb___1871793542523609371_70326575250980'
  app/views/conversations/show.html.erb:19:in `_app_views_conversations_show_html_erb___1871793542523609371_70326575250980'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.9ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (6.5ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb (105.8ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:06:11 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:06:13 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.3ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-02 15:06:13 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Exists (0.1ms)[0m  SELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1  [["conversation_id", 1]]


Started GET "/" for 127.0.0.1 at 2016-01-02 15:08:47 +0700
  [1m[36mActiveRecord::SchemaMigration Load (10.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (40.2ms)
  Rendered layouts/_nav.html.erb (2.8ms)
Completed 200 OK in 245ms (Views: 226.9ms | ActiveRecord: 2.6ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 15:08:48 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 15:08:48 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 15:08:48 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 15:08:48 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 15:08:48 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 15:08:48 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 15:08:48 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 15:08:48 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 15:08:48 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 15:08:48 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 15:08:48 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 15:08:48 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 15:08:48 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 15:08:48 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 15:08:48 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 15:08:48 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:08:50 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/conversations/2" for 127.0.0.1 at 2016-01-02 15:08:50 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mMessage Exists (0.2ms)[0m  SELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1  [["conversation_id", 2]]
  Rendered conversations/show.html.erb (90.7ms)
Completed 500 Internal Server Error in 121ms

SystemStackError (stack level too deep):
  app/views/conversations/show.html.erb:20:in `block in _app_views_conversations_show_html_erb___4496680719066199494_70318463700520'
  app/views/conversations/show.html.erb:19:in `_app_views_conversations_show_html_erb___4496680719066199494_70318463700520'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (4.7ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.1ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb (100.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:08:51 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:08:51 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.0ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:08:51 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:08:51 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.3ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:08:51 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:08:52 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:08:52 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-02 15:08:52 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 1]]


Started GET "/" for 127.0.0.1 at 2016-01-02 15:09:34 +0700
  [1m[36mActiveRecord::SchemaMigration Load (10.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (33.9ms)
  Rendered layouts/_nav.html.erb (2.1ms)
Completed 200 OK in 210ms (Views: 193.0ms | ActiveRecord: 1.8ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 15:09:35 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 15:09:35 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 15:09:35 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 15:09:35 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 15:09:35 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 15:09:35 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 15:09:35 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 15:09:35 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 15:09:35 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 15:09:35 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 15:09:35 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 15:09:35 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 15:09:35 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 15:09:35 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 15:09:35 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 15:09:35 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 15:09:35 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 15:09:35 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 15:09:35 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:09:37 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/conversations/2" for 127.0.0.1 at 2016-01-02 15:09:37 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mMessage Exists (0.2ms)[0m  SELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1  [["conversation_id", 2]]
  Rendered conversations/show.html.erb (91.7ms)
Completed 200 OK in 115ms (Views: 111.1ms | ActiveRecord: 0.6ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:09:38 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:09:41 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"asd"}, "conversation_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (6.3ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "asd"], ["conversation_id", 2], ["created_at", "2016-01-02 08:09:41.225605"], ["updated_at", "2016-01-02 08:09:41.225605"], ["user_id", 1]]
  [1m[35m (4.3ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (2.7ms)
  Rendered messages/create.js.erb (34.3ms)
Completed 200 OK in 80ms (Views: 63.3ms | ActiveRecord: 11.1ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:09:43 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"asd"}, "conversation_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["body", "asd"], ["conversation_id", 2], ["created_at", "2016-01-02 08:09:43.342708"], ["updated_at", "2016-01-02 08:09:43.342708"], ["user_id", 1]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  Rendered messages/create.js.erb (25.0ms)
Completed 200 OK in 60ms (Views: 51.7ms | ActiveRecord: 2.8ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:09:44 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"asd"}, "conversation_id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "asd"], ["conversation_id", 2], ["created_at", "2016-01-02 08:09:44.276559"], ["updated_at", "2016-01-02 08:09:44.276559"], ["user_id", 1]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  Rendered messages/create.js.erb (24.4ms)
Completed 200 OK in 60ms (Views: 52.8ms | ActiveRecord: 2.7ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:09:46 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"as"}, "conversation_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["body", "as"], ["conversation_id", 2], ["created_at", "2016-01-02 08:09:46.416550"], ["updated_at", "2016-01-02 08:09:46.416550"], ["user_id", 1]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  Rendered messages/create.js.erb (24.5ms)
Completed 200 OK in 57ms (Views: 50.2ms | ActiveRecord: 2.8ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:09:47 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"asd"}, "conversation_id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "asd"], ["conversation_id", 2], ["created_at", "2016-01-02 08:09:47.302746"], ["updated_at", "2016-01-02 08:09:47.302746"], ["user_id", 1]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  Rendered messages/create.js.erb (23.4ms)
Completed 200 OK in 57ms (Views: 49.7ms | ActiveRecord: 2.8ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 15:10:45 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 2]]
  Rendered users/index.html.erb within layouts/application (46.0ms)
Completed 500 Internal Server Error in 72ms

SystemStackError (stack level too deep):
  app/views/users/index.html.erb:47:in `block in _app_views_users_index_html_erb___2648112339997067213_70220626106800'
  app/views/users/index.html.erb:41:in `_app_views_users_index_html_erb___2648112339997067213_70220626106800'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (16.6ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (111.7ms)
  [1m[36mMessage Load (0.3ms)[0m  [1mSELECT "messages".* FROM "messages"[0m
  [1m[35mMessage Load (0.3ms)[0m  SELECT "messages".* FROM "messages"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = ?  [["id", 25]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 26]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = ?  [["id", 27]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 28]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = ?  [["id", 29]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m


Started GET "/" for 127.0.0.1 at 2016-01-02 15:12:40 +0700
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mMessage Load (0.2ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (14.5ms)
  Rendered layouts/_nav.html.erb (2.8ms)
Completed 200 OK in 346ms (Views: 337.0ms | ActiveRecord: 1.6ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 15:12:41 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 15:12:41 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 15:12:41 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 15:12:41 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 15:12:41 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 15:12:41 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 15:12:41 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 15:12:41 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 15:12:41 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 15:12:41 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 15:12:41 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 15:12:41 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 15:12:41 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 15:12:41 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 15:12:41 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 15:12:41 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:12:44 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/conversations/2" for 127.0.0.1 at 2016-01-02 15:12:44 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 2]]


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:13:40 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 61ms (Views: 0.2ms | ActiveRecord: 1.4ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:13:46 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:13:46 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:13:46 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-02 15:13:46 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 1]]
  Rendered conversations/show.html.erb (36.7ms)
Completed 200 OK in 130ms (Views: 69.8ms | ActiveRecord: 1.2ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:13:47 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:13:47 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:13:47 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:13:47 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:13:47 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.4ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started POST "/conversations/1/messages" for 127.0.0.1 at 2016-01-02 15:13:52 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"You will notice, the layout false directive. This is because we don't want the show view inheriting from application.html layout. We will be appending this view on our home page.\r\n\r\nIn the create action, we start off by searching if a conversation exists between the sender_id and recipient_id. Recall our between scope we defined earlier in our conversation model. If a conversation is found, we return it and assign it to the @conversation instance variable. If no conversation was found between the two users, we create a new conversation. We then eventually return a json response with the id of the conversation.\r\n\r\nOur show action is also pretty standard, after getting the conversation with the specific id, (note this id is sent by our javascript code in chat.js), we also find who is receiving the message. We will use the receiver's name as the chatbox title in our chat."}, "conversation_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["body", "You will notice, the layout false directive. This is because we don't want the show view inheriting from application.html layout. We will be appending this view on our home page.\r\n\r\nIn the create action, we start off by searching if a conversation exists between the sender_id and recipient_id. Recall our between scope we defined earlier in our conversation model. If a conversation is found, we return it and assign it to the @conversation instance variable. If no conversation was found between the two users, we create a new conversation. We then eventually return a json response with the id of the conversation.\r\n\r\nOur show action is also pretty standard, after getting the conversation with the specific id, (note this id is sent by our javascript code in chat.js), we also find who is receiving the message. We will use the receiver's name as the chatbox title in our chat."], ["conversation_id", 1], ["created_at", "2016-01-02 08:13:52.797192"], ["updated_at", "2016-01-02 08:13:52.797192"], ["user_id", 1]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (2.7ms)
  Rendered messages/create.js.erb (42.8ms)
Completed 200 OK in 84ms (Views: 71.4ms | ActiveRecord: 3.1ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:13:57 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:13:59 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:00 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:00 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.0ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:00 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.3ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:01 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:01 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:01 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:01 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.4ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.0ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:01 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:01 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.3ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:02 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:02 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:02 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:02 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:02 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:02 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:03 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:03 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.3ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:03 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:03 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.3ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:04 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:04 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:04 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:05 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.4ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.9ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:05 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.4ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.9ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:05 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:05 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:05 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:05 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:06 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:06 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.4ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:06 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:06 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:06 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:10 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:11 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.3ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:11 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:11 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:11 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:14 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:14 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:14:15 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.5ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 15:14:21 +0700
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mMessage Load (0.2ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (34.4ms)
Completed 500 Internal Server Error in 53ms

SystemStackError (stack level too deep):
  app/views/users/index.html.erb:47:in `block in _app_views_users_index_html_erb__423152558910474180_70216853798160'
  app/views/users/index.html.erb:41:in `_app_views_users_index_html_erb__423152558910474180_70216853798160'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.9ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (18.3ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (110.7ms)
  [1m[35mMessage Load (0.4ms)[0m  SELECT "messages".* FROM "messages"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = ?  [["id", 30]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35mMessage Load (0.2ms)[0m  SELECT  "messages".* FROM "messages"   ORDER BY "messages"."id" DESC LIMIT 1
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT  "messages".* FROM "messages"   ORDER BY "messages"."id" DESC LIMIT 1[0m


Started GET "/" for 127.0.0.1 at 2016-01-02 15:35:36 +0700
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (11.5ms)
  Rendered layouts/_nav.html.erb (2.8ms)
Completed 200 OK in 228ms (Views: 217.9ms | ActiveRecord: 1.6ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 15:35:37 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 15:35:37 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 15:35:37 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 15:35:37 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 15:35:37 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 15:35:37 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 15:35:37 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 15:35:37 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 15:35:37 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 15:35:37 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 15:35:37 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 15:35:37 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 15:35:37 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 15:35:37 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 15:35:37 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 15:35:37 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:35:39 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.3ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "/conversations/2" for 127.0.0.1 at 2016-01-02 15:35:39 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mMessage Exists (0.2ms)[0m  SELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1  [["conversation_id", 2]]
  Rendered conversations/show.html.erb (12.6ms)
Completed 200 OK in 40ms (Views: 36.8ms | ActiveRecord: 0.6ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:35:41 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms)


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-02 15:35:41 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 1]]
  Rendered conversations/show.html.erb (2.1ms)
Completed 200 OK in 20ms (Views: 16.9ms | ActiveRecord: 0.7ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:35:44 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hai"}, "conversation_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body", "hai"], ["conversation_id", 2], ["created_at", "2016-01-02 08:35:44.014060"], ["updated_at", "2016-01-02 08:35:44.014060"], ["user_id", 1]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  Rendered messages/create.js.erb (25.0ms)
Completed 200 OK in 59ms (Views: 51.0ms | ActiveRecord: 2.7ms)


Started GET "/conversations/3" for 127.0.0.1 at 2016-01-02 15:35:51 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 3  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Exists (0.1ms)[0m  SELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1  [["conversation_id", 3]]
  Rendered conversations/show.html.erb (2.2ms)
Completed 200 OK in 21ms (Views: 17.3ms | ActiveRecord: 0.5ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:36:03 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"3", "recipient_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 3  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '3' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='3'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '3' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='3'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:36:04 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"3", "recipient_id"=>"2"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 3  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '3' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='3'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '3' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='3'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.0ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:36:04 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"3", "recipient_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 3  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '3' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='3'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '3' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='3'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:36:05 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"3", "recipient_id"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 3  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '3' AND conversations.recipient_id ='1') OR (conversations.sender_id = '1' AND conversations.recipient_id ='3'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '3' AND conversations.recipient_id ='1') OR (conversations.sender_id = '1' AND conversations.recipient_id ='3'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:36:05 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"3", "recipient_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 3  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '3' AND conversations.recipient_id ='1') OR (conversations.sender_id = '1' AND conversations.recipient_id ='3'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '3' AND conversations.recipient_id ='1') OR (conversations.sender_id = '1' AND conversations.recipient_id ='3'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 15:36:07 +0700
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 3  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 3))  ORDER BY created_at DESC[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =3 OR conversations.recipient_id =3)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =3 OR conversations.recipient_id =3)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  Rendered users/index.html.erb within layouts/application (6.1ms)
  Rendered layouts/_nav.html.erb (0.5ms)
Completed 200 OK in 23ms (Views: 21.0ms | ActiveRecord: 0.9ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:07 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:07 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:07 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:07 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:07 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:07 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:07 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:07 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:07 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:07 +0700


Started GET "/conversations/2" for 127.0.0.1 at 2016-01-02 15:36:09 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 3  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMessage Exists (0.1ms)[0m  SELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1  [["conversation_id", 2]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?[0m  [["conversation_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (2.1ms)
  Rendered conversations/show.html.erb (20.5ms)
Completed 200 OK in 40ms (Views: 35.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:36:12 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hola"}, "conversation_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 3  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "messages" ("body", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["body", "hola"], ["conversation_id", 2], ["created_at", "2016-01-02 08:36:12.594860"], ["updated_at", "2016-01-02 08:36:12.594860"], ["user_id", 3]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  Rendered messages/_message.html.erb (1.5ms)
  Rendered messages/create.js.erb (23.7ms)
Completed 200 OK in 59ms (Views: 51.8ms | ActiveRecord: 2.8ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 15:36:22 +0700
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (5.9ms)
  Rendered layouts/_nav.html.erb (0.5ms)
Completed 200 OK in 22ms (Views: 21.1ms | ActiveRecord: 0.8ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 15:36:23 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 15:36:23 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 15:36:23 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 15:36:23 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 15:36:23 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 15:36:23 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:23 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:23 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:23 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:23 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:23 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:23 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:23 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:23 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:23 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 15:36:23 +0700
  [1m[36mMessage Load (9.1ms)[0m  [1mSELECT "messages".* FROM "messages"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "messages" WHERE "messages"."id" = ?[0m  [["id", 31]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = ?  [["id", 32]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m


Started GET "/" for 127.0.0.1 at 2016-01-02 15:37:38 +0700
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (12.5ms)
  Rendered layouts/_nav.html.erb (1.7ms)
Completed 200 OK in 37ms (Views: 28.5ms | ActiveRecord: 1.7ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 15:37:38 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 15:37:38 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 15:37:38 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 15:37:38 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 15:37:38 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 15:37:38 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:38 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:38 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:38 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:38 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:38 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:38 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:38 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:38 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:38 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:38 +0700


Started GET "/" for 127.0.0.1 at 2016-01-02 15:37:42 +0700
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (5.4ms)
  Rendered layouts/_nav.html.erb (0.5ms)
Completed 200 OK in 22ms (Views: 20.3ms | ActiveRecord: 0.8ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 15:37:43 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 15:37:43 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 15:37:43 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 15:37:43 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 15:37:43 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 15:37:43 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:43 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:43 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:43 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:43 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:43 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:43 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:43 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:43 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:43 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 15:37:43 +0700


Started GET "/" for 127.0.0.1 at 2016-01-02 15:39:42 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (40.0ms)
  Rendered layouts/_nav.html.erb (2.4ms)
Completed 200 OK in 245ms (Views: 228.2ms | ActiveRecord: 2.0ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 15:39:43 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 15:39:43 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 15:39:43 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 15:39:43 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 15:39:43 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 15:39:43 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:43 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:43 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:43 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:43 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:43 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:43 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:43 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:43 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:43 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:43 +0700


Started GET "/" for 127.0.0.1 at 2016-01-02 15:39:52 +0700
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (15.3ms)
  Rendered layouts/_nav.html.erb (1.2ms)
Completed 200 OK in 39ms (Views: 30.2ms | ActiveRecord: 2.1ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 15:39:52 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 15:39:52 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 15:39:52 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 15:39:52 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 15:39:52 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 15:39:52 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:52 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:52 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:52 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:52 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:52 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:52 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:52 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:52 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:52 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 15:39:52 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:39:53 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-02 15:39:53 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Exists (0.2ms)[0m  SELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1  [["conversation_id", 1]]
  Rendered conversations/show.html.erb (88.4ms)
Completed 500 Internal Server Error in 120ms

SystemStackError (stack level too deep):
  app/views/conversations/show.html.erb:20:in `block in _app_views_conversations_show_html_erb__3159373145693790376_70296255388240'
  app/views/conversations/show.html.erb:19:in `_app_views_conversations_show_html_erb__3159373145693790376_70296255388240'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (4.2ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb (99.1ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:39:59 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.4ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:40:04 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.3ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/conversations/2" for 127.0.0.1 at 2016-01-02 15:40:04 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mMessage Exists (0.1ms)[0m  SELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1  [["conversation_id", 2]]


Started GET "/" for 127.0.0.1 at 2016-01-02 15:41:51 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (28.9ms)
  Rendered layouts/_nav.html.erb (1.9ms)
Completed 200 OK in 128ms (Views: 114.4ms | ActiveRecord: 1.8ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 15:41:51 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 15:41:51 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 15:41:51 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 15:41:51 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 15:41:51 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 15:41:51 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:51 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:51 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:51 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:51 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:51 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:52 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:52 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:52 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:52 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:52 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:41:53 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.3ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.7ms)


Started GET "/conversations/2" for 127.0.0.1 at 2016-01-02 15:41:53 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mMessage Exists (0.2ms)[0m  SELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1  [["conversation_id", 2]]
  Rendered conversations/show.html.erb (57.8ms)
Completed 200 OK in 87ms (Views: 83.1ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:41:55 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-02 15:41:55 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 1]]
  Rendered conversations/show.html.erb (2.5ms)
Completed 200 OK in 21ms (Views: 17.5ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 15:41:58 +0700
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (5.4ms)
  Rendered layouts/_nav.html.erb (0.6ms)
Completed 200 OK in 23ms (Views: 21.4ms | ActiveRecord: 0.8ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 15:41:58 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 15:41:58 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 15:41:58 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 15:41:58 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 15:41:58 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 15:41:58 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:58 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:58 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:58 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:58 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:58 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:58 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:58 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:58 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:58 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 15:41:58 +0700


Started GET "/" for 127.0.0.1 at 2016-01-02 15:42:03 +0700
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (13.6ms)
  Rendered layouts/_nav.html.erb (1.2ms)
Completed 200 OK in 44ms (Views: 34.5ms | ActiveRecord: 1.7ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 15:42:03 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 15:42:03 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 15:42:03 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 15:42:03 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 15:42:03 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 15:42:03 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:03 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:03 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:03 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:03 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:03 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:03 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:03 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:03 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:04 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:04 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:42:05 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (1.0ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 1.7ms)


Started GET "/conversations/2" for 127.0.0.1 at 2016-01-02 15:42:05 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mMessage Exists (0.2ms)[0m  SELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1  [["conversation_id", 2]]
  Rendered conversations/show.html.erb (17.2ms)
Completed 200 OK in 39ms (Views: 34.5ms | ActiveRecord: 0.7ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:42:07 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"asd"}, "conversation_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "messages" ("conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["conversation_id", 2], ["created_at", "2016-01-02 08:42:07.454100"], ["updated_at", "2016-01-02 08:42:07.454100"], ["user_id", 1]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (2.5ms)
  Rendered messages/create.js.erb (48.6ms)
Completed 500 Internal Server Error in 92ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb___2642990627122466349_70277785743140'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (60.1ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:42:09 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:42:12 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"gfhfghlhjasdh"}, "conversation_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "messages" ("conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["conversation_id", 2], ["created_at", "2016-01-02 08:42:12.595658"], ["updated_at", "2016-01-02 08:42:12.595658"], ["user_id", 1]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  Rendered messages/create.js.erb (38.3ms)
Completed 500 Internal Server Error in 75ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb___2642990627122466349_70277785743140'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (59.4ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:42:14 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"asgdhjhjasdhjgdsahjgdasjgh"}, "conversation_id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "messages" ("conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["conversation_id", 2], ["created_at", "2016-01-02 08:42:14.992019"], ["updated_at", "2016-01-02 08:42:14.992019"], ["user_id", 1]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  Rendered messages/create.js.erb (37.6ms)
Completed 500 Internal Server Error in 73ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb___2642990627122466349_70277785743140'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (54.4ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:42:16 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"asjdfhjasfdjasjdfgfasd"}, "conversation_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "messages" ("conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["conversation_id", 2], ["created_at", "2016-01-02 08:42:16.883746"], ["updated_at", "2016-01-02 08:42:16.883746"], ["user_id", 1]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  Rendered messages/create.js.erb (35.7ms)
Completed 500 Internal Server Error in 77ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb___2642990627122466349_70277785743140'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (59.6ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:42:18 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"asdjhfashjdfjhasd,jfhdas"}, "conversation_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "messages" ("conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["conversation_id", 2], ["created_at", "2016-01-02 08:42:18.646753"], ["updated_at", "2016-01-02 08:42:18.646753"], ["user_id", 1]]
  [1m[35m (5.0ms)[0m  commit transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  Rendered messages/create.js.erb (40.2ms)
Completed 500 Internal Server Error in 80ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb___2642990627122466349_70277785743140'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (57.8ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:42:20 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"asdhhvashjdfhjasf,df"}, "conversation_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "messages" ("conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["conversation_id", 2], ["created_at", "2016-01-02 08:42:20.356543"], ["updated_at", "2016-01-02 08:42:20.356543"], ["user_id", 1]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  Rendered messages/create.js.erb (39.9ms)
Completed 500 Internal Server Error in 74ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb___2642990627122466349_70277785743140'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (2.0ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (57.7ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:42:22 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"asdhashdfjh,asfdjh,"}, "conversation_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "messages" ("conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["conversation_id", 2], ["created_at", "2016-01-02 08:42:22.032168"], ["updated_at", "2016-01-02 08:42:22.032168"], ["user_id", 1]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  Rendered messages/create.js.erb (39.2ms)
Completed 500 Internal Server Error in 73ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb___2642990627122466349_70277785743140'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.1ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (58.2ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:42:23 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"asjhdfhjasfdhjfaj,sd"}, "conversation_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "messages" ("conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["conversation_id", 2], ["created_at", "2016-01-02 08:42:23.517725"], ["updated_at", "2016-01-02 08:42:23.517725"], ["user_id", 1]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  Rendered messages/create.js.erb (40.7ms)
Completed 500 Internal Server Error in 75ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb___2642990627122466349_70277785743140'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.0ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.1ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (57.3ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:42:24 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"asdjasjdfjhafsjfhd"}, "conversation_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "messages" ("conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["conversation_id", 2], ["created_at", "2016-01-02 08:42:24.889412"], ["updated_at", "2016-01-02 08:42:24.889412"], ["user_id", 1]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  Rendered messages/create.js.erb (37.9ms)
Completed 500 Internal Server Error in 72ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb___2642990627122466349_70277785743140'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (54.9ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:42:26 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"asdhashdg,hajsd"}, "conversation_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "messages" ("conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["conversation_id", 2], ["created_at", "2016-01-02 08:42:26.183745"], ["updated_at", "2016-01-02 08:42:26.183745"], ["user_id", 1]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  Rendered messages/create.js.erb (38.8ms)
Completed 500 Internal Server Error in 77ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb___2642990627122466349_70277785743140'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (57.3ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 15:42:44 +0700
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (7.9ms)
  Rendered layouts/_nav.html.erb (0.6ms)
Completed 200 OK in 25ms (Views: 22.4ms | ActiveRecord: 1.2ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 15:42:45 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 15:42:45 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 15:42:45 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 15:42:45 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 15:42:45 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 15:42:45 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:45 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:45 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:45 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:45 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:45 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:45 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:45 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:45 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:45 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 15:42:45 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:42:46 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/conversations/2" for 127.0.0.1 at 2016-01-02 15:42:46 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mMessage Load (0.2ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  [["conversation_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (9.1ms)
  Rendered conversations/show.html.erb (29.3ms)
Completed 200 OK in 48ms (Views: 43.8ms | ActiveRecord: 0.9ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:42:51 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"dasdasdasd"}, "conversation_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "messages" ("conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["conversation_id", 2], ["created_at", "2016-01-02 08:42:51.702817"], ["updated_at", "2016-01-02 08:42:51.702817"], ["user_id", 1]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  Rendered messages/create.js.erb (39.7ms)
Completed 500 Internal Server Error in 75ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb___2642990627122466349_70277785743140'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.2ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (57.8ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 15:43:37 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (34.6ms)
  Rendered layouts/_nav.html.erb (2.1ms)
Completed 200 OK in 137ms (Views: 122.1ms | ActiveRecord: 1.8ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 15:43:37 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 15:43:37 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 15:43:37 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 15:43:37 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 15:43:37 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 15:43:37 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 15:43:37 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 15:43:38 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 15:43:38 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 15:43:38 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 15:43:38 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 15:43:38 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 15:43:38 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 15:43:38 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 15:43:38 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 15:43:38 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:43:39 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.7ms)


Started GET "/conversations/2" for 127.0.0.1 at 2016-01-02 15:43:39 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mMessage Load (0.2ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  [["conversation_id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (11.6ms)
  Rendered conversations/show.html.erb (57.0ms)
Completed 200 OK in 79ms (Views: 75.4ms | ActiveRecord: 1.1ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to ChangeColumnName (20160102084524)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20160102084524"]]
  [1m[35m (1.0ms)[0m  commit transaction
Migrating to AddEncryptedbodyToMessage (20160102084836)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "messages" ADD "body_encrypted" varchar(255)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20160102084836"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_conversations_on_recipient_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_conversations_on_recipient_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_conversations_on_sender_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_conversations_on_sender_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_conversation_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_conversation_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m


Started GET "/" for 127.0.0.1 at 2016-01-02 15:50:14 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (55.8ms)
  Rendered layouts/_nav.html.erb (2.8ms)
Completed 200 OK in 535ms (Views: 518.0ms | ActiveRecord: 2.0ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 15:50:15 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 15:50:15 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 15:50:15 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 15:50:15 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 15:50:15 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 15:50:15 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 15:50:15 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 15:50:15 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 15:50:15 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 15:50:15 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 15:50:15 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 15:50:15 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 15:50:15 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 15:50:15 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 15:50:15 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 15:50:15 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:50:17 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/conversations/2" for 127.0.0.1 at 2016-01-02 15:50:17 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mMessage Load (0.2ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  [["conversation_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (12.7ms)
  Rendered conversations/show.html.erb (96.5ms)
Completed 200 OK in 134ms (Views: 130.2ms | ActiveRecord: 1.2ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:50:19 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"halo"}, "conversation_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "messages" ("body_encrypted", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["body_encrypted", "bachfUOmBpOJTXnBj3Bizw==\n"], ["conversation_id", 2], ["created_at", "2016-01-02 08:50:20.000036"], ["updated_at", "2016-01-02 08:50:20.000036"], ["user_id", 1]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  Rendered messages/create.js.erb (52.9ms)
Completed 500 Internal Server Error in 94ms

ActionView::Template::Error (Connection refused - connect(2) for "localhost" port 9292):
    1: <% publish_to @path do %>
    2:     var id = "<%= @conversation.id %>";
    3:     var chatbox = $("#chatbox_" + id + " .chatboxcontent");
    4:     var sender_id = "<%= @message.user.id %>";
  app/views/messages/create.js.erb:1:in `_app_views_messages_create_js_erb___307769250401499859_70195685730560'


  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /Users/hanif/.rvm/gems/ruby-2.2.1/gems/actionpack-4.1.1/lib/action_dispatch/middleware/templates/rescues/template_error.text.erb (69.9ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 15:51:33 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (45.0ms)
  Rendered layouts/_nav.html.erb (2.2ms)
Completed 200 OK in 139ms (Views: 124.5ms | ActiveRecord: 1.9ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 15:51:33 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 15:51:33 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 15:51:33 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 15:51:33 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 15:51:33 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 15:51:33 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 15:51:33 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 15:51:33 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 15:51:33 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 15:51:33 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 15:51:33 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 15:51:33 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 15:51:33 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 15:51:33 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 15:51:33 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 15:51:33 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 15:51:35 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.7ms)


Started GET "/conversations/2" for 127.0.0.1 at 2016-01-02 15:51:35 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mMessage Load (0.2ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  [["conversation_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (13.4ms)
  Rendered conversations/show.html.erb (57.9ms)
Completed 200 OK in 79ms (Views: 74.5ms | ActiveRecord: 1.0ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 15:51:39 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"coba"}, "conversation_id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "messages" ("body_encrypted", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body_encrypted", "JEowgtDE/BGe65g9TAFGWg==\n"], ["conversation_id", 2], ["created_at", "2016-01-02 08:51:39.494748"], ["updated_at", "2016-01-02 08:51:39.494748"], ["user_id", 1]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  Rendered messages/create.js.erb (28.9ms)
Completed 200 OK in 71ms (Views: 60.8ms | ActiveRecord: 3.1ms)
  [1m[36mMessage Load (0.2ms)[0m  [1mSELECT  "messages".* FROM "messages"   ORDER BY "messages"."id" DESC LIMIT 1[0m


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 18:14:10 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"tes"}, "conversation_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (9.0ms)[0m  INSERT INTO "messages" ("body_encrypted", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["body_encrypted", "uwNwQqe2DU2AXApTc+YEIw==\n"], ["conversation_id", 2], ["created_at", "2016-01-02 11:14:10.242414"], ["updated_at", "2016-01-02 11:14:10.242414"], ["user_id", 1]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (6.7ms)
  Rendered messages/create.js.erb (28.6ms)
Completed 200 OK in 98ms (Views: 79.2ms | ActiveRecord: 10.9ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 18:14:17 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"satu"}, "conversation_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "messages" ("body_encrypted", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body_encrypted", "xC0eCmoe3k2tnTn/mmvSlA==\n"], ["conversation_id", 2], ["created_at", "2016-01-02 11:14:17.747168"], ["updated_at", "2016-01-02 11:14:17.747168"], ["user_id", 1]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  Rendered messages/create.js.erb (23.9ms)
Completed 200 OK in 60ms (Views: 50.9ms | ActiveRecord: 3.5ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 18:14:19 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"dua"}, "conversation_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "messages" ("body_encrypted", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["body_encrypted", "49O0nVb0DzucIaJrUyQdtA==\n"], ["conversation_id", 2], ["created_at", "2016-01-02 11:14:19.141635"], ["updated_at", "2016-01-02 11:14:19.141635"], ["user_id", 1]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  Rendered messages/create.js.erb (24.6ms)
Completed 200 OK in 60ms (Views: 51.7ms | ActiveRecord: 2.8ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 18:14:23 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"tiga"}, "conversation_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "messages" ("body_encrypted", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body_encrypted", "1twYp26Jnp72+4hKVgDXzA==\n"], ["conversation_id", 2], ["created_at", "2016-01-02 11:14:23.133761"], ["updated_at", "2016-01-02 11:14:23.133761"], ["user_id", 1]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  Rendered messages/create.js.erb (23.9ms)
Completed 200 OK in 62ms (Views: 52.9ms | ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2016-01-02 18:14:27 +0700
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"  WHERE (NOT (id = 1))  ORDER BY created_at DESC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE (conversations.sender_id =1 OR conversations.recipient_id =1)  ORDER BY created_at DESC
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mMessage Load (0.1ms)[0m  SELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1  [["conversation_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT  "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  ORDER BY "messages"."id" DESC LIMIT 1[0m  [["conversation_id", 1]]
  Rendered users/index.html.erb within layouts/application (7.7ms)
  Rendered layouts/_nav.html.erb (0.6ms)
Completed 200 OK in 26ms (Views: 24.5ms | ActiveRecord: 0.8ms)


Started GET "/assets/chat.css?body=1" for 127.0.0.1 at 2016-01-02 18:14:27 +0700


Started GET "/assets/conversations.css?body=1" for 127.0.0.1 at 2016-01-02 18:14:27 +0700


Started GET "/assets/messages.css?body=1" for 127.0.0.1 at 2016-01-02 18:14:27 +0700


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2016-01-02 18:14:27 +0700


Started GET "/assets/bootstrap.css?body=1" for 127.0.0.1 at 2016-01-02 18:14:27 +0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2016-01-02 18:14:27 +0700


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2016-01-02 18:14:27 +0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2016-01-02 18:14:27 +0700


Started GET "/assets/bootstrap.min.js?body=1" for 127.0.0.1 at 2016-01-02 18:14:27 +0700


Started GET "/assets/private_pub.js?body=1" for 127.0.0.1 at 2016-01-02 18:14:27 +0700


Started GET "/assets/chat.js?body=1" for 127.0.0.1 at 2016-01-02 18:14:27 +0700


Started GET "/assets/turbolinks.js?body=1" for 127.0.0.1 at 2016-01-02 18:14:27 +0700


Started GET "/assets/conversations.js?body=1" for 127.0.0.1 at 2016-01-02 18:14:27 +0700


Started GET "/assets/messages.js?body=1" for 127.0.0.1 at 2016-01-02 18:14:27 +0700


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2016-01-02 18:14:27 +0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2016-01-02 18:14:27 +0700


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 18:14:30 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.6ms)


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-02 18:14:30 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMessage Exists (0.1ms)[0m  SELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1  [["conversation_id", 1]]
  Rendered conversations/show.html.erb (3.0ms)
Completed 200 OK in 40ms (Views: 36.7ms | ActiveRecord: 0.5ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 18:18:09 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.3ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 45ms (Views: 0.2ms | ActiveRecord: 1.6ms)


Started GET "/conversations/2" for 127.0.0.1 at 2016-01-02 18:18:09 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mMessage Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 2]]
  [1m[35mMessage Load (0.2ms)[0m  SELECT "messages".* FROM "messages"  WHERE "messages"."conversation_id" = ?  [["conversation_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (25.1ms)
  Rendered conversations/show.html.erb (57.6ms)
Completed 200 OK in 82ms (Views: 72.1ms | ActiveRecord: 1.7ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 18:18:12 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"tes"}, "conversation_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "messages" ("body_encrypted", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["body_encrypted", "uwNwQqe2DU2AXApTc+YEIw==\n"], ["conversation_id", 2], ["created_at", "2016-01-02 11:18:12.507848"], ["updated_at", "2016-01-02 11:18:12.507848"], ["user_id", 1]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  Rendered messages/create.js.erb (23.4ms)
Completed 200 OK in 59ms (Views: 50.0ms | ActiveRecord: 2.3ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 18:18:14 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"123"}, "conversation_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "messages" ("body_encrypted", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body_encrypted", "ZZwkN86ffVh2L6RGqmjdoA==\n"], ["conversation_id", 2], ["created_at", "2016-01-02 11:18:14.199178"], ["updated_at", "2016-01-02 11:18:14.199178"], ["user_id", 1]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  Rendered messages/create.js.erb (22.2ms)
Completed 200 OK in 56ms (Views: 47.8ms | ActiveRecord: 2.5ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 18:18:20 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"asdasdasd"}, "conversation_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "messages" ("body_encrypted", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["body_encrypted", "4HbamynDZPacedtEKrrmBg==\n"], ["conversation_id", 2], ["created_at", "2016-01-02 11:18:20.475020"], ["updated_at", "2016-01-02 11:18:20.475020"], ["user_id", 1]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  Rendered messages/create.js.erb (21.6ms)
Completed 200 OK in 56ms (Views: 47.4ms | ActiveRecord: 2.2ms)
  [1m[35mMessage Load (0.3ms)[0m  SELECT  "messages".* FROM "messages"   ORDER BY "messages"."id" DESC LIMIT 1
  [1m[36mMessage Load (0.3ms)[0m  [1mSELECT "messages".* FROM "messages"[0m


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 18:26:17 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 18:26:18 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.3ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.8ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 18:26:18 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"3"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.3ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='3') OR (conversations.sender_id = '3' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 18:26:19 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.2ms)[0m  SELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))
  [1m[36mConversation Load (0.2ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms)


Started GET "/conversations/1" for 127.0.0.1 at 2016-01-02 18:26:19 +0700
Processing by ConversationsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMessage Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "messages"  WHERE "messages"."conversation_id" = ? LIMIT 1[0m  [["conversation_id", 1]]
  Rendered conversations/show.html.erb (3.1ms)
Completed 200 OK in 33ms (Views: 30.0ms | ActiveRecord: 0.5ms)


Started POST "/conversations" for 127.0.0.1 at 2016-01-02 18:26:19 +0700
Processing by ConversationsController#create as */*
  Parameters: {"sender_id"=>"1", "recipient_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))[0m
  [1m[35mConversation Load (0.3ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE ((conversations.sender_id = '1' AND conversations.recipient_id ='2') OR (conversations.sender_id = '2' AND conversations.recipient_id ='1'))  ORDER BY "conversations"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 18:26:23 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"asd"}, "conversation_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = 1  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (24.3ms)[0m  INSERT INTO "messages" ("body_encrypted", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)  [["body_encrypted", "aQiwKTTSWoUzcBtqfRn/WA==\n"], ["conversation_id", 2], ["created_at", "2016-01-02 11:26:23.339108"], ["updated_at", "2016-01-02 11:26:23.339108"], ["user_id", 1]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  Rendered messages/create.js.erb (22.7ms)
Completed 200 OK in 105ms (Views: 72.5ms | ActiveRecord: 26.2ms)


Started POST "/conversations/2/messages" for 127.0.0.1 at 2016-01-02 18:26:32 +0700
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"asddsaadsdas"}, "conversation_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = 3  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT  "conversations".* FROM "conversations"  WHERE "conversations"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (67.0ms)[0m  [1mINSERT INTO "messages" ("body_encrypted", "conversation_id", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?)[0m  [["body_encrypted", "c2FqobClnou0R+bTE3OG4A==\n"], ["conversation_id", 2], ["created_at", "2016-01-02 11:26:32.194367"], ["updated_at", "2016-01-02 11:26:32.194367"], ["user_id", 3]]
  [1m[35m (60.8ms)[0m  commit transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered messages/_message.html.erb (1.4ms)
  Rendered messages/create.js.erb (22.2ms)
Completed 200 OK in 187ms (Views: 52.4ms | ActiveRecord: 128.3ms)
